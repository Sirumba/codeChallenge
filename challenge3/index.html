<html>

<head>
    <title>student grade generator</title>
</head>

<body>
    <form name="form" onsubmit="return(getNetSalary());">
        <table cellspacing="2" cellpadding="2" border="1">

            <tr>
                <td align="right">Gross Salary</td>
                <td><input type="text" name="gross_salary" /></td>
            </tr>

            <tr>
                <td align="right"></td>
                <td><input type="submit" value="Submit" /></td>
            </tr>

        </table>
    </form>

    
    <script type="text/javascript">

        //we create a function to calculate the net salary
        function getNetSalary() {
            
            var gross_salary = document.form.gross_salary.value;
            //check if input string is a number
            if (isNaN(gross_salary)) {
                alert("input should only include numbers");
                return false;
            }
            //check whether input string is empty
            //the length function here is used to check whether the object in the input is empty
            if (gross_salary.length == "") {
                alert("messagebox is empty");
                return false;
            }

            //convert the input string to float(decimal value)
           var gross = parseFloat(gross_salary);
            // calculate the net salary from the input string.
            //the taxrate and nhifDeduction functions will be explained outside this function
            var net_salary = gross-nssfDeduction-(gross*taxRate(gross))-(nhifDeduction(gross));


           
            //here we show an alert of the calculated net salary using js alert function
            alert('net salary: '+net_salary)
            return false;
        }

        //the taxrate function takes the gross salary as a parameter which we passed from the getNetsalary function
        function taxRate(gross) {
            //this is a basic if check that returns the appropriate tax rate
            if (gross <= 24000) {
                // .1 could be written as 0.1 or 10/100 😁. just a fancy(lazy) way of doing it
                return .1;
            }
            else if (gross > 24000 && gross <= 32333) {
                return .25;
            }
            else {
                return .3;
            }

        }
        // since the nssf deduction is a fixed value. we decalre a constant value for it
        const nssfDeduction = 400;
        function nhifDeduction(gross) {
            //same if check  to return appropriate deduction according to basic the gross salary
            if (gross <= 5999) {
                return 150;
            }
            else if (gross <= 7999) {
                return 300;
            }
            else if (gross <= 11999) {
                return 400;
            }
            else if (gross <= 14999) {
                return 500;
            }
            else if (gross <= 19999) {
                return 600;
            }
            else if (gross <= 24999) {
                return 750;
            }
            else if (gross <= 29999) {
                return 850;
            }
            else if (gross <= 34999) {
                return 900;
            }
            else if (gross <= 39999) {
                return 950;
            }
            else if (gross <= 44999) {
                return 1000;
            }
            else if (gross <= 49999) {
                return 1100;
            }
            else if (gross <= 59999) {
                return 1200;
            }
            else if (gross <= 69999) {
                return 1300;
            }
            else if (gross <= 79999) {
                return 1400;
            }
            else if (gross <= 89999) {
                return 1500;
            }
            else if (gross <= 99999) {
                return 1600;
            }
            else {
                return 1700;
            }

        }


    </script>
</body>

</html>